{
  "name": "lightlynx",
  "version": "1.0.0",
  "description": "Web app and extensions for Zigbee2MQTT to make it a polished integrated light automation solution.",
  "type": "module",
  "scripts": {
    "build:app": "vite build --config vite.config.ts src/ --outDir ../build.frontend --assetsDir .",
    "build:debug": "vite build --config vite.config.ts src/ --outDir ../build.frontend --assetsDir . --mode development --sourcemap --minify false",
    "build:extension": "vite build --config vite.extension.config.ts",
    "build:cert": "vite build --config vite.backend.config.ts",
    "build:site": "vite build --config vite.site.config.ts",
    "build": "rm -rf build.frontend/* build.backend/* build.site/* && npm run build:extension && npm run build:app && npm run build:cert && npm run build:site",
    "watch": "npm run build:extension -- --watch & npm run build:app -- --watch",
    "dev": "vite --config vite.config.ts src/ --port 43599 --host",
    "deploy:purge-cdn": "dotenv -- bash -c 'for ID in $BUNNY_PZ_ID_APP $BUNNY_PZ_ID_SITE; do curl --request POST --url https://api.bunny.net/pullzone/$ID/purgeCache --header \"AccessKey: $BUNNY_ACCESS_KEY\" --header \"accept: application/json\" --header \"content-type: application/json\" --data {\"CacheTag\":null}; done'",
    "deploy:cert": "npm run build:cert && dotenv -- bash -c 'node scripts/deploy-bunny-script.cjs $BUNNY_SSL_SCRIPT_ID $BUNNY_ACCESS_KEY build.backend/cert.js'",
    "deploy": "npm run build && if [ ! -f build.video/demo.webm ] ; then npm run build:video && npm run build ; fi && npm run deploy:app && npm run deploy:site && npm run deploy:cert && npm run deploy:purge-cdn",
    "deploy:app": "dotenv -- bash -c 'rclone sync build.frontend/ :sftp,host=storage.bunnycdn.com,user=$BUNNY_STORAGE_ZONE_APP,pass=$BUNNY_STORAGE_PASS_OBSCURED_APP,key_use_agent=false:/ --progress --inplace --sftp-shell-type=none'",
    "deploy:site": "dotenv -- bash -c 'rclone sync build.site/ :sftp,host=storage.bunnycdn.com,user=$BUNNY_STORAGE_ZONE_SITE,pass=$BUNNY_STORAGE_PASS_OBSCURED_SITE,key_use_agent=false:/ --progress --inplace --sftp-shell-type=none'",
    "test": "rm -rf tests-out/* && playwright test",
    "build:video": "rm -rf build.video && playwright test --config playwright.video.config.ts",
    "mock-z2m": "LIGHTLYNX_PORT=43598 LIGHTLYNX_INSECURE=true npm run build:extension && node --experimental-strip-types src/mock-z2m.ts",
    "mock": "node scripts/mock.mjs"
  },
  "author": "Frank van Viegen",
  "license": "All rights reserved",
  "dependencies": {
    "aberdeen": "^1.9.0"
  },
  "devDependencies": {
    "@parcel/packager-raw-url": "^2.13.3",
    "@parcel/transformer-webmanifest": "^2.13.3",
    "@playwright/test": "^1.57.0",
    "@types/node": "^25.0.3",
    "@types/ws": "^8.18.1",
    "dotenv-cli": "^11.0.0",
    "ts-node": "^10.9.2",
    "vite": "^7.3.1",
    "ws": "^8.19.0"
  }
}
