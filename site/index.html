<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Light Lynx ‚Äî Smart Zigbee Light Control</title>
  <meta name="description" content="Control your Zigbee2MQTT lights with a fast, open-source app. Scenes, automation, multi-user permissions, optional remote access ‚Äî no cloud required.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#f4810e">
  <link rel="icon" href="../src/logo.webp" type="image/webp">
  <link rel="apple-touch-icon" href="../src/public/logo192.webp">

  <!-- Open Graph -->
  <meta property="og:title" content="Light Lynx ‚Äî Smart Zigbee Light Control">
  <meta property="og:description" content="Like the Philips Hue app, but fast and open source.">
  <meta property="og:image" content="/logo512.webp">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.lightlynx.eu/">

  <link rel="stylesheet" href="./style.css">
</head>
<body>

<a href="https://github.com/vanviegen/lightlynx/" target="_blank" rel="noopener" class="github-corner" aria-label="View on GitHub">
  <svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" fill="var(--primary)"/>
    <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/>
    <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C182.0,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
  </svg>
</a>

<section class="hero">
  <div class="container">
    <img src="./logo-no-bg.png" alt="Light Lynx" class="hero-logo" width="120" height="120">
    <h1>Light <span class="gradient-text">Lynx</span></h1>
    <p class="tagline">Turn Zigbee2MQTT into a polished light automation solution.<br>Faster than the Hue app, fully open source, and running on <em>your own hardware</em>.</p>
    <div class="hero-buttons">
      <a href="https://app.lightlynx.eu/" class="btn btn-primary" target="_blank" rel="noopener">Open App</a>
      <a href="#" class="btn btn-secondary" id="show-demo-hero">Show Demo</a>
      <a href="#get-started" class="btn btn-secondary">Get Started</a>
    </div>
  </div>
</section>

<section class="features-video" id="features">
  <div class="container fv-grid">
    <div class="fv-video">
      <video autoplay loop muted playsinline poster="/main-view.png">
        <source src="/demo.webm" type="video/webm">
      </video>
    </div>
    <div class="fv-features">
      <h2>Features</h2>
      <details class="feature-card">
        <summary>
          <div class="feature-icon">‚ö°</div>
          <div>
            <h3>Very Fast</h3>
            <p>The PWA (installable web app) loads instantly from cache. Common tasks -toggling groups and activating scenes- take just a single tap from the main screen.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Installable on your mobile home screen. Always loads from cache, making it faster than just about any native app. (Try it!)</li>
            <li>Your light states are cached too. The app renders your setup instantly on launch.</li>
            <li>Lights, buttons, and motion sensors form groups that can be easily controlled together, preferably by creating scenes that set the lights just right for a given activity.</li>
            <li>The main page shows you (hopefully) all groups and scenes for your home at a glance.</li>
            <li>Uses native Zigbee groups and scenes, so that lights transition all at once instead of one at a time (looking at you Home Assistant).</li>
            <li>Changes you make are visible in the UI directly, syncing with the server in the background.</li>
          </ul>
        </div>
      </details>
      <details class="feature-card">
        <summary>
          <div class="feature-icon">ü§ñ</div>
          <div>
            <h3>Automation Included</h3>
            <p>Connect scenes to buttons, motion sensors, schedules, and timers. Everything configured in the app, running locally with no cloud required.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Triggers scenes by motion sensor events, button presses, double presses, triple presses, etc. Optionally conditional on the time of day.</li>
            <li>Pressing a button once while some lights in the connected group are on will always just turn them off. Much enhanced the spouse-acceptance-factor!</li>
            <li>Trigger scenes based on the time of day, or relative to sunrise/sunset.</li>
            <li>Set auto-off timers for groups. Great for bathrooms, laundry rooms, etc. And for your children's rooms. Lights fade out smoothly when the timer expires.</li>
            <li>Everything runs locally inside Zigbee2MQTT. No cloud, no latency.</li>
          </ul>
        </div>
      </details>
      <details class="feature-card">
        <summary>
          <div class="feature-icon">üåç</div>
          <div>
            <h3>Offline &amp; Online</h3>
            <p>Works without internet over your local network. Optional remote access lets you control lights from anywhere, still without a cloud in the middle, and with automatic setup.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Works without internet. The app loads from cache and connects directly to your server over the local network. (Though an occasional internet connection is needed for DNS.)</li>
            <li>When enabled, remote access allows you to control your lights from anywhere, even when the server is behind a NAT gateway. This works by using UPnP to punch a hole in your router.</li>
            <li>If your internet connection has a dynamic IP it will be tracked automatically. (Though perhaps with some delay.)</li>
            <li>When remote access is enabled, clients will try to connect to the internal address and the external address in parallel, and use whichever connects first.</li>
            <li>Direct connection to your server. No cloud relay, no third-party in the data path.</li>
          </ul>
        </div>
      </details>
      <details class="feature-card">
        <summary>
          <div class="feature-icon">üë•</div>
          <div>
            <h3>Secure &amp; Multi-User</h3>
            <p>Individual logins with per-group permissions. TLS encryption by default. Passwords are hashed client-side and never leave your device.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Each user has their own login and permissions to control or manage certain groups (rooms). Great for house guests or children! Or for the office.</li>
            <li>Connections to your server are TLS encrypted by default. This is set up automatically (using Let's Encrypt).</li>
            <li>Passwords are only stored in hashed form.</li>
            <li>Even admin users are <em>not</em> allowed to install Zigbee2MQTT extensions through the API, to prevent arbitrary code execution vulnerabilities. (Unlike the official Zigbee2MQTT frontend.)</li>
            <li>Generate shareable URLs with embedded credentials for easy onboarding (of house guests).</li>
          </ul>
        </div>
      </details>
      <details class="feature-card">
        <summary>
          <div class="feature-icon">üîß</div>
          <div>
            <h3>Batteries Included</h3>
            <p>The only interface you need for lighting control. Pair devices, manage groups and scenes, handle users and automations ‚Äî all from the app.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Pair and remove devices, manage groups, manage scenes, rename things, manage users, manage automations ‚Äî all from the app.</li>
            <li>Low-battery indicator for buttons and sensors, with warning badges in the header and a dedicated status page.</li>
            <li>Beautiful color control: interactive color wheel, brightness slider, and color temperature picker. Per-bulb markers show each light's position within a group.</li>
            <li>Groups can mix color and temperature-only bulbs ‚Äî each receives the right command.</li>
            <li>Save any lighting state as a named scene (Bright, Dim, Cozy, Movie‚Ä¶). The active scene is highlighted so you always know what's on.</li>
            <li>No separate servers or database to set up and maintain: just Zigbee2MQTT and the Light Lynx extension and an MQTT server (that's not actually used but is required by Zigbee2MQTT). You <em>can</em> of course still connect other home automation software.</li>
          </ul>
        </div>
      </details>
    </div>
  </div>
</section>

<section class="get-started" id="get-started">
  <div class="container">
    <h2>Get Started in 3 Steps</h2>

    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <div>
          <h3>Install the Extension</h3>
          <p>Download <a href="https://app.lightlynx.eu/extension.js" download="lightlynx.js" class="download-link">lightlynx.js</a> and add it to your Zigbee2MQTT <code>data/extension</code> folder. Alternatively, paste the file contents as an External Extension in the Z2M web UI (Settings ‚Üí External Extensions). Restart Zigbee2MQTT.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <div>
          <h3>Open the App</h3>
          <p>Go to <a href="https://app.lightlynx.eu/" target="_blank" rel="noopener">app.lightlynx.eu</a>. It will try to auto-detect your server on the local network. Enter your server's IP if needed. Log in as <code>admin</code> (no password initially).</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <div>
          <h3>Configure</h3>
          <p>Tap the <strong>wrench icon</strong> to enter manage mode. Organize lights into groups, create scenes, link buttons and sensors, set up user accounts.</p>
        </div>
      </div>
    </div>

    <div class="cta-row">
      <a href="https://app.lightlynx.eu/" class="btn btn-primary" target="_blank" rel="noopener">Open App</a>
      <a href="https://app.lightlynx.eu/extension.js" class="btn btn-secondary download-link" download="lightlynx.js">Download Extension</a>
    </div>
  </div>
</section>

<!-- ========== FRONTEND PWA ========== -->
<section class="dive-section" id="frontend">
  <div class="container">
    <h2>Frontend PWA</h2>
    <p class="section-intro">A static web app hosted on <code>app.lightlynx.eu</code>. Loads from browser cache, connects directly to your server over WebSocket, and works offline.</p>
    <div class="dive-grid">
      <div class="dive-card">
        <h4>Cached &amp; Installable</h4>
        <p>The app is cached by a service worker and loads from disk instantly. It can be installed to your home screen as a PWA. When a new version is available, a reload icon appears in the header ‚Äî one tap to update.</p>
      </div>
      <div class="dive-card">
        <h4>Direct WebSocket Connection</h4>
        <p>The app connects directly to your Zigbee2MQTT server over WebSocket ‚Äî no cloud relay. It receives the full light state on connect, then only compact deltas as things change. Your light state is also cached in localStorage for instant startup.</p>
      </div>
      <div class="dive-card">
        <h4>Optimistic Updates</h4>
        <p>When you drag a slider or tap a button, the UI updates immediately. The command is sent to the server in the background, and the UI reconciles when the server confirms. This makes everything feel instant, even on slow connections.</p>
      </div>
      <div class="dive-card">
        <h4>Color Conversion</h4>
        <p>Full color pipeline: HSV ‚Üî RGB ‚Üî XY (CIE 1931) ‚Üî Mireds. When a group mixes full-color and temperature-only bulbs, each light receives a command adapted to its capabilities ‚Äî including warm-white fallbacks.</p>
      </div>
    </div>
  </div>
</section>

<!-- ========== ZIGBEE2MQTT EXTENSION ========== -->
<section class="dive-section" id="extension">
  <div class="container">
    <h2>Zigbee2MQTT Extension</h2>
    <p class="section-intro">A single JavaScript file that drops into your Zigbee2MQTT <code>data/extension</code> folder. It handles the WebSocket API, user management, automation, and device state ‚Äî all without any external dependencies.</p>
    <div class="dive-grid">
      <div class="dive-card">
        <h4>State Tracking</h4>
        <p>The extension listens to MQTT messages from Zigbee2MQTT to build a live state of all devices, groups, and scenes. When a client connects, it receives the full state; after that, only changes are pushed. Config is stored in <code>data/lightlynx.json</code>.</p>
      </div>
      <div class="dive-card">
        <h4>User Management</h4>
        <p>Supports multiple user accounts with per-group permission levels (hidden, control, manage). Passwords are hashed client-side (PBKDF2, 100K iterations) ‚Äî the server only stores and verifies hashes. Shareable URLs let you onboard family members in seconds.</p>
      </div>
      <div class="dive-card" id="automation">
        <h4>Automation Engine</h4>
        <p>Buttons and sensors are linked to groups and scenes directly in the app. Multi-press detection, motion triggers, time-of-day schedules, and sunrise/sunset offsets all run locally inside Z2M. Auto-off timers fade lights out after configurable inactivity.</p>
      </div>
      <div class="dive-card">
        <h4>Zigbee-native Commands</h4>
        <p>Scene recalls and group commands use Zigbee's native group/scene addressing for fast execution. The extension sends a single group command plus tailored per-bulb commands for mixed-capability groups, keeping the Zigbee mesh efficient.</p>
      </div>
    </div>
  </div>
</section>

<!-- ========== NETWORKING ========== -->
<section class="dive-section" id="networking">
  <div class="container">
    <h2>Networking</h2>
    <p class="section-intro">Encrypted by default on the local network. Optional remote access with automatic SSL and port forwarding ‚Äî no cloud relay in between.</p>
    <div class="dive-grid">
      <div class="dive-card">
        <h4>Automatic SSL</h4>
        <p>The extension obtains a Let's Encrypt certificate automatically via DNS-01 challenge through the <code>lightlynx.eu</code> infrastructure. Certificates renew before expiry. Your WebSocket connection is always TLS-encrypted, even locally.</p>
      </div>
      <div class="dive-card">
        <h4>Local Discovery</h4>
        <p>The app auto-detects your server on the local network. Once connected, the server address and credentials are saved in the browser. The WebSocket connection runs on port 43597 (configurable via <code>LIGHTLYNX_PORT</code> environment variable).</p>
      </div>
      <div class="dive-card" id="remote-access">
        <h4>Remote Access</h4>
        <p>When enabled, the extension uses UPnP to forward a random port on your router. DNS maps <code>ext-&lt;id&gt;.lightlynx.eu</code> to your external IP. The app races local vs. remote connections and picks whichever responds first ‚Äî transitions between Wi-Fi and mobile data are seamless.</p>
      </div>
      <div class="dive-card" id="location">
        <h4>Privacy</h4>
        <p>All data flows directly between the app and your server. No cloud account, no tracking, no intermediary. Location coordinates for sunrise/sunset are stored locally and rounded to ~1 km. Passwords are hashed in the browser and never transmitted in plain text.</p>
      </div>
    </div>
  </div>
</section>


<!-- ========== FOOTER ========== -->
<footer>
  <div class="container">
    <p class="footer-copy">¬© 2026 Frank van Viegen BV</p>
  </div>
</footer>

<script src="./main.js" type="module"></script>
</body>
</html>
