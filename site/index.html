<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Light Lynx ‚Äî Smart Zigbee Light Control</title>
  <meta name="description" content="Control your Zigbee2MQTT lights with a fast, open-source app. Scenes, automation, multi-user permissions, optional remote access ‚Äî no cloud required.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#f4810e">
  <link rel="icon" href="../src/logo.webp" type="image/webp">
  <link rel="apple-touch-icon" href="../src/public/logo192.webp">

  <!-- Open Graph -->
  <meta property="og:title" content="Light Lynx ‚Äî Smart Zigbee Light Control">
  <meta property="og:description" content="Like the Philips Hue app, but fast and open source.">
  <meta property="og:image" content="/logo512.webp">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.lightlynx.eu/">

  <link rel="stylesheet" href="./style.css">
</head>
<body>

<a href="https://github.com/vanviegen/lightlynx/" target="_blank" rel="noopener" class="github-corner" aria-label="View on GitHub">
  <svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" fill="var(--primary)"/>
    <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/>
    <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C182.0,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
  </svg>
</a>

<!-- ========== HERO ========== -->
<section class="hero">
  <div class="container">
    <img src="./logo-no-bg.png" alt="Light Lynx" class="hero-logo" width="120" height="120">
    <h1>Light <span class="gradient-text">Lynx</span></h1>
    <p class="tagline">Turn Zigbee2MQTT into a polished light automation solution.<br>Faster than the Hue app, fully open source, and running on <em>your own hardware</em>.</p>
    <div class="hero-buttons">
      <a href="https://app.lightlynx.eu/" class="btn btn-primary" target="_blank" rel="noopener">Open App</a>
      <a href="#get-started" class="btn btn-secondary">Get Started</a>
    </div>
  </div>
</section>

<!-- ========== VIDEO + FEATURES ========== -->
<section class="features-video" id="features">
  <div class="container fv-grid">
    <div class="fv-video">
      <video autoplay loop muted playsinline poster="/main-view.png">
        <source src="/demo.webm" type="video/webm">
      </video>
    </div>
    <div class="fv-features">
      <h2>Features</h2>

      <details class="feature-card">
        <summary>
          <div class="feature-icon">‚ö°</div>
          <div>
            <h3>Instant &amp; Offline</h3>
            <p>Opens in under a second from cache. Control your lights even when the internet is down ‚Äî the app talks directly to your Zigbee2MQTT server on the local network.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Loads from browser cache immediately, checks for updates in the background.</li>
            <li>Your light states are cached too ‚Äî the app renders your setup instantly on launch.</li>
            <li>Installable as a PWA ‚Äî add to your home screen for a native app feel.</li>
            <li>Auto-update notification with one-tap reload when a new version is available.</li>
          </ul>
        </div>
      </details>

      <details class="feature-card">
        <summary>
          <div class="feature-icon">üé®</div>
          <div>
            <h3>Beautiful Color Control</h3>
            <p>Interactive color wheel, brightness slider, and color temperature picker. Per-bulb markers show each light's position within a group.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Single-tap to toggle lights or groups on/off.</li>
            <li>Color wheel for full-color bulbs, warm-to-cool slider for color temperature bulbs.</li>
            <li>Groups can mix color and temperature-only bulbs ‚Äî each receives the right command.</li>
            <li>Changes feel instant ‚Äî the UI updates immediately, syncing with the server in the background.</li>
          </ul>
        </div>
      </details>

      <details class="feature-card">
        <summary>
          <div class="feature-icon">üé¨</div>
          <div>
            <h3>Groups &amp; Scenes</h3>
            <p>Organize lights into rooms. Save and recall lighting moods with a single tap. Active scene tracking shows you which scene is on.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Create groups, add/remove lights, rename ‚Äî all from the app.</li>
            <li>Save any lighting state as a named scene (Bright, Dim, Cozy, Movie‚Ä¶).</li>
            <li>One tap to recall a scene. The active scene is highlighted so you always know what's on.</li>
            <li>Scenes can turn specific lights off ‚Äî great for "Movie" or "Night" moods.</li>
          </ul>
        </div>
      </details>

      <details class="feature-card">
        <summary>
          <div class="feature-icon">ü§ñ</div>
          <div>
            <h3>Automation <span class="feature-badge">No cloud required</span></h3>
            <p>Connect Zigbee buttons and motion sensors to scenes. Multi-tap patterns, auto-off timers, sunrise/sunset triggers ‚Äî configured entirely in the app.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Link any Zigbee button or remote to groups. Double/triple press triggers different scenes.</li>
            <li>Motion sensors automatically recall scenes when they detect activity.</li>
            <li>Schedule scenes at specific times, or relative to sunrise/sunset.</li>
            <li>Auto-off timers turn lights off after a configurable inactivity period, with a smooth fade-out.</li>
            <li>Everything runs locally inside Zigbee2MQTT ‚Äî no cloud, no latency.</li>
          </ul>
        </div>
      </details>

      <details class="feature-card">
        <summary>
          <div class="feature-icon">üë•</div>
          <div>
            <h3>Multi-User Permissions</h3>
            <p>Create accounts for family members with per-group access levels. Kids can control the living room but not the office. Passwords are hashed client-side.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Create accounts for each household member ‚Äî admin or regular.</li>
            <li>Per-group access: no access (hidden), control only, or full manage.</li>
            <li>Passwords never leave the device ‚Äî hashed in the browser before transmission.</li>
            <li>Generate shareable URLs with embedded credentials for easy onboarding.</li>
          </ul>
        </div>
      </details>

      <details class="feature-card">
        <summary>
          <div class="feature-icon">üåç</div>
          <div>
            <h3>Optional Remote Access</h3>
            <p>Control your lights from anywhere. Automatic SSL, automatic port forwarding, and seamless switching between local and remote connections.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Enable with one toggle ‚Äî the extension handles SSL certificates and port forwarding automatically.</li>
            <li>The app tries both local and remote paths in parallel, using whichever connects first.</li>
            <li>Direct connection to your server ‚Äî no cloud relay, no third-party in the data path.</li>
            <li>Can be enabled or disabled per user. Requires a password.</li>
          </ul>
        </div>
      </details>

      <details class="feature-card">
        <summary>
          <div class="feature-icon">üîß</div>
          <div>
            <h3>Device Management</h3>
            <p>Pair, rename, and remove Zigbee devices. Battery monitoring with warnings in the header and a dedicated status page.</p>
          </div>
        </summary>
        <div class="feature-details">
          <ul>
            <li>Pair new Zigbee devices from the app (pulsing icon shows when permit-join is active).</li>
            <li>Rename or remove devices without touching the Z2M config.</li>
            <li>Battery levels at a glance ‚Äî sorted list with warning badges for low batteries.</li>
            <li>View device info: model, vendor, link quality, and firmware update status.</li>
          </ul>
        </div>
      </details>
    </div>
  </div>
</section>

<!-- ========== GET STARTED ========== -->
<section class="get-started" id="get-started">
  <div class="container">
    <h2>Get Started in 3 Steps</h2>

    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <div>
          <h3>Install the Extension</h3>
          <p>Download <a href="https://app.lightlynx.eu/extension.js" download="lightlynx.js" class="download-link">lightlynx.js</a> and add it to your Zigbee2MQTT <code>data/extension</code> folder. Alternatively, paste the file contents as an External Extension in the Z2M web UI (Settings ‚Üí External Extensions). Restart Zigbee2MQTT.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <div>
          <h3>Open the App</h3>
          <p>Go to <a href="https://app.lightlynx.eu/" target="_blank" rel="noopener">app.lightlynx.eu</a>. It will try to auto-detect your server on the local network. Enter your server's IP if needed. Log in as <code>admin</code> (no password initially).</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <div>
          <h3>Configure</h3>
          <p>Tap the <strong>wrench icon</strong> to enter manage mode. Organize lights into groups, create scenes, link buttons and sensors, set up user accounts.</p>
        </div>
      </div>
    </div>

    <div class="cta-row">
      <a href="https://app.lightlynx.eu/" class="btn btn-primary" target="_blank" rel="noopener">Open App</a>
      <a href="https://app.lightlynx.eu/extension.js" class="btn btn-secondary download-link" download="lightlynx.js">Download Extension</a>
    </div>
  </div>
</section>

<!-- ========== FRONTEND PWA ========== -->
<section class="dive-section" id="frontend">
  <div class="container">
    <h2>Frontend PWA</h2>
    <p class="section-intro">A static web app hosted on <code>app.lightlynx.eu</code>. Loads from browser cache, connects directly to your server over WebSocket, and works offline.</p>
    <div class="dive-grid">
      <div class="dive-card">
        <h4>Cached &amp; Installable</h4>
        <p>The app is cached by a service worker and loads from disk instantly. It can be installed to your home screen as a PWA. When a new version is available, a reload icon appears in the header ‚Äî one tap to update.</p>
      </div>
      <div class="dive-card">
        <h4>Direct WebSocket Connection</h4>
        <p>The app connects directly to your Zigbee2MQTT server over WebSocket ‚Äî no cloud relay. It receives the full light state on connect, then only compact deltas as things change. Your light state is also cached in localStorage for instant startup.</p>
      </div>
      <div class="dive-card">
        <h4>Optimistic Updates</h4>
        <p>When you drag a slider or tap a button, the UI updates immediately. The command is sent to the server in the background, and the UI reconciles when the server confirms. This makes everything feel instant, even on slow connections.</p>
      </div>
      <div class="dive-card">
        <h4>Color Conversion</h4>
        <p>Full color pipeline: HSV ‚Üî RGB ‚Üî XY (CIE 1931) ‚Üî Mireds. When a group mixes full-color and temperature-only bulbs, each light receives a command adapted to its capabilities ‚Äî including warm-white fallbacks.</p>
      </div>
    </div>
  </div>
</section>

<!-- ========== ZIGBEE2MQTT EXTENSION ========== -->
<section class="dive-section" id="extension">
  <div class="container">
    <h2>Zigbee2MQTT Extension</h2>
    <p class="section-intro">A single JavaScript file that drops into your Zigbee2MQTT <code>data/extension</code> folder. It handles the WebSocket API, user management, automation, and device state ‚Äî all without any external dependencies.</p>
    <div class="dive-grid">
      <div class="dive-card">
        <h4>State Tracking</h4>
        <p>The extension listens to MQTT messages from Zigbee2MQTT to build a live state of all devices, groups, and scenes. When a client connects, it receives the full state; after that, only changes are pushed. Config is stored in <code>data/lightlynx.json</code>.</p>
      </div>
      <div class="dive-card">
        <h4>User Management</h4>
        <p>Supports multiple user accounts with per-group permission levels (hidden, control, manage). Passwords are hashed client-side (PBKDF2, 100K iterations) ‚Äî the server only stores and verifies hashes. Shareable URLs let you onboard family members in seconds.</p>
      </div>
      <div class="dive-card" id="automation">
        <h4>Automation Engine</h4>
        <p>Buttons and sensors are linked to groups and scenes directly in the app. Multi-press detection, motion triggers, time-of-day schedules, and sunrise/sunset offsets all run locally inside Z2M. Auto-off timers fade lights out after configurable inactivity.</p>
      </div>
      <div class="dive-card">
        <h4>Zigbee-native Commands</h4>
        <p>Scene recalls and group commands use Zigbee's native group/scene addressing for fast execution. The extension sends a single group command plus tailored per-bulb commands for mixed-capability groups, keeping the Zigbee mesh efficient.</p>
      </div>
    </div>
  </div>
</section>

<!-- ========== NETWORKING ========== -->
<section class="dive-section" id="networking">
  <div class="container">
    <h2>Networking</h2>
    <p class="section-intro">Encrypted by default on the local network. Optional remote access with automatic SSL and port forwarding ‚Äî no cloud relay in between.</p>
    <div class="dive-grid">
      <div class="dive-card">
        <h4>Automatic SSL</h4>
        <p>The extension obtains a Let's Encrypt certificate automatically via DNS-01 challenge through the <code>lightlynx.eu</code> infrastructure. Certificates renew before expiry. Your WebSocket connection is always TLS-encrypted, even locally.</p>
      </div>
      <div class="dive-card">
        <h4>Local Discovery</h4>
        <p>The app auto-detects your server on the local network. Once connected, the server address and credentials are saved in the browser. The WebSocket connection runs on port 43597 (configurable via <code>LIGHTLYNX_PORT</code> environment variable).</p>
      </div>
      <div class="dive-card" id="remote-access">
        <h4>Remote Access</h4>
        <p>When enabled, the extension uses UPnP to forward a random port on your router. DNS maps <code>ext-&lt;id&gt;.lightlynx.eu</code> to your external IP. The app races local vs. remote connections and picks whichever responds first ‚Äî transitions between Wi-Fi and mobile data are seamless.</p>
      </div>
      <div class="dive-card" id="location">
        <h4>Privacy</h4>
        <p>All data flows directly between the app and your server. No cloud account, no tracking, no intermediary. Location coordinates for sunrise/sunset are stored locally and rounded to ~1 km. Passwords are hashed in the browser and never transmitted in plain text.</p>
      </div>
    </div>
  </div>
</section>


<!-- ========== FOOTER ========== -->
<footer>
  <div class="container">
    <p class="footer-copy">¬© 2026 Frank van Viegen BV</p>
  </div>
</footer>

<script src="./main.js" type="module"></script>
</body>
</html>
